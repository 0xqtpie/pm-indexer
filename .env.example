# Database
DATABASE_URL=postgres://user:pass@localhost:5432/markets

# Vector Database
QDRANT_URL=http://localhost:6333

# Embeddings (OpenRouter - supports multiple providers)
# Get your API key at https://openrouter.ai/keys
OPENROUTER_API_KEY=sk-or-...
# Available models (via OpenRouter):
#   openai/text-embedding-3-small  (1536 dim, fast, cheap) - DEFAULT
#   openai/text-embedding-3-large  (3072 dim, higher quality)
#   openai/text-embedding-ada-002  (1536 dim, legacy)
EMBEDDING_MODEL=openai/text-embedding-3-small
# Dimensions: Set to match model output, or 0 to use model default
# Note: Only text-embedding-3-* models support custom dimensions
EMBEDDING_DIMENSIONS=1536

# Sync settings
SYNC_INTERVAL_MINUTES=30    # Incremental sync interval (minutes)
FULL_SYNC_HOUR=3            # Hour for daily full sync (0-23)
MARKET_FETCH_LIMIT=10000    # Max markets to fetch per source
ENABLE_AUTO_SYNC=false      # Enable background auto-sync
EXCLUDE_SPORTS=true         # Exclude sports betting markets (default: true)

# Admin auth
ADMIN_API_KEY=              # Required to access /api/admin/* and /metrics

# Security
# TOKEN_FINGERPRINT_SECRET=   # 16+ char secret for token fingerprinting in logs (recommended)

# CORS - comma-separated origins
# WARNING: Do not use "*" or leave empty in production
# Examples:
#   Single origin: CORS_ORIGINS=https://app.example.com
#   Multiple: CORS_ORIGINS=https://app.example.com,https://admin.example.com
CORS_ORIGINS=http://localhost:3000
ADMIN_CORS_ORIGINS=http://localhost:3001
CORS_METHODS=GET,POST,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization,X-Admin-Key,X-API-Key,X-User-Id,X-CSRF-Token

# Search rate limiting
SEARCH_RATE_LIMIT_MAX=60          # Requests per window
SEARCH_RATE_LIMIT_WINDOW_SECONDS=60

# Query embedding cache
QUERY_EMBEDDING_CACHE_MAX_ENTRIES=1000
QUERY_EMBEDDING_CACHE_TTL_SECONDS=300
SEARCH_SORT_WINDOW=500           # Candidate window for sorted search paging

# Server
PORT=3000
LOG_LEVEL=info
